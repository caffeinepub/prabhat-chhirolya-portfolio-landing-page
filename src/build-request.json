{
  "kind": "build_request",
  "title": "Re-export and redeploy OG/Twitter card image from uploaded ogcardnew.jpg (fix invalid/unreachable OG image)",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Re-export the uploaded image `ogcardnew.jpg` into a clean, standards-compliant Open Graph JPEG: RGB, baseline (non-progressive), stripped metadata, exactly 1200×630 pixels, and ensure the resulting file decodes correctly in common image viewers.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1",
          "msg-2"
        ],
        "quotes": [
          "here you go",
          "the OG Image URL appears to be invalid or unreachable, what should we do now?"
        ]
      },
      "acceptanceCriteria": [
        "A new baseline (non-progressive) JPEG at exactly 1200×630 is produced from `ogcardnew.jpg`.",
        "The exported JPEG opens correctly after download (not blank/corrupt) in at least two viewers (e.g., Chrome + OS image viewer)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Deploy the newly exported OG image as a version-bumped static asset under `frontend/public/assets/` using a fresh filename (e.g., `ogcard-v3.jpg`) and ensure the deployed URL returns the exact image bytes (no HTML fallback or truncation).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "the OG Image URL appears to be invalid or unreachable"
        ]
      },
      "acceptanceCriteria": [
        "A new file exists at `frontend/public/assets/ogcard-v3.jpg` (or equivalent fresh versioned name) and is included in the asset canister deployment.",
        "Fetching `https://www.prabhatchhirolya.com/assets/ogcard-v3.jpg` returns HTTP 200 and downloads as a valid JPEG (non-zero size, not corrupted)."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Update `frontend/index.html` Open Graph and Twitter meta tags to reference the new versioned OG image URL (replace all occurrences of `.../assets/ogcard-v2.jpg` with the new versioned filename). Keep existing canonical and URL formatting unchanged.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "the OG Image URL appears to be invalid or unreachable"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/index.html` `og:image`, `og:image:secure_url`, and `twitter:image` all reference `https://www.prabhatchhirolya.com/assets/ogcard-v3.jpg` (or the chosen new versioned filename).",
        "`og:image:type` remains `image/jpeg`, and width/height meta remain 1200/630."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Update `frontend/public/.ic-assets.json5` to explicitly serve the new versioned OG image path with `Content-Type: image/jpeg` and appropriate caching headers, without removing existing rules for older OG image filenames.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "the OG Image URL appears to be invalid or unreachable"
        ]
      },
      "acceptanceCriteria": [
        "`.ic-assets.json5` contains a non-ignored match rule for `assets/ogcard-v3.jpg` (or the chosen new versioned filename) with `Content-Type: image/jpeg`.",
        "After deployment, the response headers for the new OG image URL include `Content-Type: image/jpeg`."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Update `frontend/OG_PREVIEW_VERIFICATION.md` to use the new versioned OG image URL in the “Production URLs to Test” and troubleshooting sections.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-2"
        ],
        "quotes": [
          "the OG Image URL appears to be invalid or unreachable"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/OG_PREVIEW_VERIFICATION.md` references the new versioned OG image URL everywhere it previously referenced `ogcard-v2.jpg`."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`, or anything in `frontend/src/components/ui`.",
    "Keep the backend as a single Motoko actor; no new backend services."
  ],
  "nonGoals": [
    "Redesigning the site UI/UX beyond what is required to fix OG/Twitter card previews.",
    "Adding new authentication methods or third-party integrations.",
    "Changing domain configuration in `.well-known/ic-domains` unless required by the OG image fix."
  ],
  "imageRequirements": {
    "required": [],
    "edits": [
      "Re-export as a clean baseline RGB JPEG (non-progressive), strip metadata, and ensure exact 1200×630 output (ogcardnew.jpg > ogcard-v3.jpg.dim_1200x630.jpg)"
    ]
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}