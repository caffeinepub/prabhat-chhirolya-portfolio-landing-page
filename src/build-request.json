{
  "kind": "build_request",
  "title": "Fix X (Twitter) OG/Twitter card caching by versioned OG image under /assets and consistent URLs",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add a new versioned Open Graph image file named `ogcard-v2.jpg` and ensure it is deployed as a direct static asset at `frontend/public/assets/ogcard-v2.jpg` (served without routing or JS handling).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Create a new OG image file with a versioned filename, e.g. ogcard-v2.jpg.",
          "Place the OG image inside a static public folder: /public/assets/ogcard-v2.jpg",
          "Ensure the file is served directly (no routing, no JS handling)."
        ]
      },
      "acceptanceCriteria": [
        "A file exists at `frontend/public/assets/ogcard-v2.jpg` in the repository.",
        "After deployment, visiting `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg` returns HTTP 200 and displays the image (not HTML).",
        "The response includes an appropriate `Content-Type` for a JPEG image."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update `frontend/index.html` to replace all Open Graph and Twitter image meta tags to use the exact absolute URL `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg` for `og:image`, `og:image:secure_url`, and `twitter:image`.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Replace existing image URLs with the following:\n<meta property=\"og:image\" content=\"https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg\" />\n<meta property=\"og:image:secure_url\" content=\"https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg\" />\n<meta name=\"twitter:image\" content=\"https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg\" />"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/index.html` contains `og:image` with content `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg`.",
        "`frontend/index.html` contains `og:image:secure_url` with content `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg`.",
        "`frontend/index.html` contains `twitter:image` with content `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg`.",
        "No remaining OG/Twitter image meta tags reference the previous `ogcard.jpg` URL."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Ensure URL consistency across metadata by using the exact trailing-slash URL `https://www.prabhatchhirolya.com/` for the canonical link, `og:url`, and `twitter:url` in `frontend/index.html`.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Use the exact same URL (with trailing slash) across all tags:\n<link rel=\"canonical\" href=\"https://www.prabhatchhirolya.com/\" />\n<meta property=\"og:url\" content=\"https://www.prabhatchhirolya.com/\" />\n<meta name=\"twitter:url\" content=\"https://www.prabhatchhirolya.com/\" />"
        ]
      },
      "acceptanceCriteria": [
        "`frontend/index.html` canonical URL is exactly `https://www.prabhatchhirolya.com/`.",
        "`frontend/index.html` `og:url` is exactly `https://www.prabhatchhirolya.com/`.",
        "`frontend/index.html` `twitter:url` is exactly `https://www.prabhatchhirolya.com/`."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Update `frontend/public/.ic-assets.json5` so the new static OG image at `assets/ogcard-v2.jpg` is explicitly included (not ignored) and served with appropriate headers (at minimum correct `Content-Type: image/jpeg`).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Ensure the file exists at a publicly accessible path before deployment.",
          "Ensure the file is served directly (no routing, no JS handling)."
        ]
      },
      "acceptanceCriteria": [
        "`frontend/public/.ic-assets.json5` includes a rule that matches `assets/ogcard-v2.jpg` with `ignore: false`.",
        "The rule sets `Content-Type` to `image/jpeg` for `assets/ogcard-v2.jpg`.",
        "After deployment, `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg` is served as a static asset with the configured headers."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Update `frontend/OG_PREVIEW_VERIFICATION.md` to reference the new OG image URL/path (`https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg`) instead of the old `ogcard.jpg`, including the verification steps and deployment checklist paths.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "our goal is to create functional OG and Twitter card."
        ]
      },
      "acceptanceCriteria": [
        "The documentation’s “OG card image” URL and any direct-browser test instructions reference `https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg`.",
        "The deployment checklist references `frontend/public/assets/ogcard-v2.jpg` as the required deployed file location."
      ]
    }
  ],
  "constraints": [
    "Do not implement OG/Twitter image serving via React routing or backend endpoints; the image must be a direct static file under `frontend/public/assets/`.",
    "Do not edit files under `frontend/src/hooks/useInternetIdentity.ts`, `frontend/src/hooks/useInternetIdentity.tsx`, `frontend/src/hooks/useActor.ts`, `frontend/src/main.tsx`, or anything in `frontend/src/components/ui`."
  ],
  "nonGoals": [
    "Guaranteeing immediate cache invalidation on X (Twitter) beyond implementing versioned asset URLs and correct metadata (platform-side caching may still take time).",
    "Adding new product features unrelated to OG/Twitter metadata and static asset serving."
  ],
  "imageRequirements": {
    "required": [
      "Open Graph/Twitter card image, 1200×630, JPEG (ogcard-v2.jpg.dim_1200x630.jpg)"
    ],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}