{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix OG/Twitter card image by re-exporting and version-bumping static OG asset",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Re-export ogcardnew.jpg into a clean, decodable baseline RGB 1200×630 JPEG with stripped metadata.",
      "acceptanceCriteria": [
        "A new baseline (non-progressive) JPEG at exactly 1200×630 is produced from `ogcardnew.jpg`.",
        "The exported JPEG opens correctly after download (not blank/corrupt) in at least two viewers (e.g., Chrome + OS image viewer)."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/ogcard-v3.jpg.dim_1200x630.jpg",
          "operation": "create",
          "description": "Create a newly re-exported Open Graph image derived from the uploaded ogcardnew.jpg as a standards-compliant JPEG: RGB, baseline (non-progressive), stripped metadata, exactly 1200×630, and verified to decode correctly (not blank/corrupt)."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Deploy the newly exported OG image as a fresh version-bumped static asset under frontend/public/assets/ and ensure it serves the correct bytes.",
      "acceptanceCriteria": [
        "A new file exists at `frontend/public/assets/ogcard-v3.jpg` (or equivalent fresh versioned name) and is included in the asset canister deployment.",
        "Fetching `https://www.prabhatchhirolya.com/assets/ogcard-v3.jpg` returns HTTP 200 and downloads as a valid JPEG (non-zero size, not corrupted)."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/ogcard-v3.jpg",
          "operation": "create",
          "description": "Add the version-bumped deployment target OG image file. Ensure it is a valid JPEG and intended to be byte-identical to frontend/public/assets/generated/ogcard-v3.jpg.dim_1200x630.jpg so that the deployed /assets/ URL serves the exact image bytes (no HTML fallback/truncation)."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Update Open Graph and Twitter meta tags in frontend/index.html to reference the new versioned OG image URL.",
      "acceptanceCriteria": [
        "`frontend/index.html` `og:image`, `og:image:secure_url`, and `twitter:image` all reference `https://www.prabhatchhirolya.com/assets/ogcard-v3.jpg` (or the chosen new versioned filename).",
        "`og:image:type` remains `image/jpeg`, and width/height meta remain 1200/630."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Replace all occurrences of https://www.prabhatchhirolya.com/assets/ogcard-v2.jpg in og:image, og:image:secure_url, and twitter:image with https://www.prabhatchhirolya.com/assets/ogcard-v3.jpg, keeping canonical link and existing URL formatting unchanged and preserving og:image:type=image/jpeg and 1200/630 width/height tags."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Update asset canister configuration to serve the new OG image with explicit JPEG Content-Type and caching headers without removing older rules.",
      "acceptanceCriteria": [
        "`.ic-assets.json5` contains a non-ignored match rule for `assets/ogcard-v3.jpg` (or the chosen new versioned filename) with `Content-Type: image/jpeg`.",
        "After deployment, the response headers for the new OG image URL include `Content-Type: image/jpeg`."
      ],
      "file_operations": [
        {
          "path": "frontend/public/.ic-assets.json5",
          "operation": "modify",
          "description": "Add a new non-ignored match rule for assets/ogcard-v3.jpg with explicit headers including Content-Type: image/jpeg and appropriate Cache-Control, while retaining existing match rules (including assets/ogcard-v2.jpg) unchanged."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Update OG preview verification documentation to reference the new versioned OG image URL everywhere ogcard-v2.jpg is mentioned.",
      "acceptanceCriteria": [
        "`frontend/OG_PREVIEW_VERIFICATION.md` references the new versioned OG image URL everywhere it previously referenced `ogcard-v2.jpg`."
      ],
      "file_operations": [
        {
          "path": "frontend/OG_PREVIEW_VERIFICATION.md",
          "operation": "modify",
          "description": "Update the “Production URLs to Test” and troubleshooting/checklist sections to replace references to ogcard-v2.jpg with ogcard-v3.jpg (https://www.prabhatchhirolya.com/assets/ogcard-v3.jpg), keeping the rest of the guidance and formatting intact."
        }
      ]
    }
  ]
}